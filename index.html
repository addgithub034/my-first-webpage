<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸“å±æ‹çˆ±é—®å· | æˆ‘ä»¬çš„çº¦å®š</title>
    <style>
        :root {
            --pink-1: #ffe6f2;
            --pink-2: #ff69b4;
            --pink-3: #ff1493;
            --pink-4: #ff0066;
        }

        body {
            background: radial-gradient(circle at top left, var(--pink-1), white);
            font-family: 'Microsoft Yahei', cursive;
            min-height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255,105,180,0.2);
            padding: 30px;
            position: relative;
            backdrop-filter: blur(8px);
            z-index: 2;
        }

        .progress-bar {
            height: 8px;
            background: #ffe6f2;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            width: 0%;
            height: 100%;
            background: var(--pink-4);
            transition: width 0.5s;
        }

        .step {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
        }

        .step.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        input, button, select {
            border: 2px solid var(--pink-2);
            border-radius: 25px;
            padding: 12px 20px;
            margin: 10px 0;
            width: 80%;
            max-width: 300px;
            font-size: 16px;
        }

        button {
            background: var(--pink-2);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: var(--pink-3);
            transform: scale(1.05);
        }

        /* é£˜è½çˆ±å¿ƒæ ·å¼ */
        .hearts span {
            position: absolute;
            color: var(--pink-2);
            animation: fall 3s linear infinite;
            will-change: transform;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }

        /* å‘Šç™½æ–‡å­—åŒºåŸŸæ ·å¼ */
        .love-letter {
            font-size: 18px;
            line-height: 1.8;
            text-align: center;
            color: #333;
            margin-top: 20px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<!-- é£˜è½çˆ±å¿ƒå®¹å™¨ -->
<div class="hearts"></div>

<!-- ä¸»è¦è¡¨å•å®¹å™¨ -->
<div class="container">
    <div class="progress-bar">
        <div class="progress"></div>
    </div>

    <!-- æ­¥éª¤1ï¼šç›¸è¯†æ—¥æœŸ -->
    <div class="step active" id="step1">
        <h2>ğŸ“… ç›¸è¯†çš„æ—¥å­</h2>
        <input type="date" id="dateInput" required>
        <button onclick="nextStep(2)">å¼€å¯å›å¿†</button>
    </div>

    <!-- æ­¥éª¤2ï¼šä¸“å±ç§°å‘¼ -->
    <div class="step" id="step2">
        <h2>ğŸ’Œ ä¸“å±å¯†ç éªŒè¯</h2>
        <input type="text" id="nicknameInput" placeholder="æˆ‘å¹³æ—¶æ€ä¹ˆç§°å‘¼ä½ ï¼Ÿ">
        <button onclick="nextStep(3)">æ˜¯æœ¬äººå˜›</button>
    </div>

    <!-- æ­¥éª¤3ï¼šç›¸é‡åœ°ç‚¹ -->
    <div class="step" id="step3">
        <h2>ğŸ“ åˆé‡åœºæ™¯é‡ç°</h2>
        <select id="locationSelect">
            <option value="çº¢ç»¿ç¯">çº¢ç»¿ç¯</option>
            <option value="é—¨å£">é—¨å£</option>
            <option value="åº—é“º">åº—é“º</option>
        </select>
        <button onclick="nextStep(4)">ç¡®è®¤åœ°ç‚¹</button>
    </div>

    <!-- æ­¥éª¤4ï¼šæœ€ç»ˆæŒ‰é’® -->
    <div class="step" id="step4">
        <h2>ğŸ’– æœ€ç»ˆç¡®è®¤</h2>
        <button onclick="completeLove()">æŸ¥çœ‹</button>
    </div>

    <!-- å‘Šç™½æ–‡å­—åŒºåŸŸ -->
    <div class="love-letter" id="loveLetter" style="display: none;">
        <p>ä¹–ï¼Œä»€ä¹ˆæ—¶å€™èƒ½å«ä¹–ä¹–ï¼Ÿ</p>
        <p>å­¦æ ¡é‡Œï¼Œæˆ–æ—©æœ‰ä¸€é¢ä¹‹ç¼˜ï¼Œ</p>	
        <p>åˆ°ç°2025å¹´4æœˆåˆç›¸è¯†</p>
        <p style="color:var(--pink-4)">ğŸ’ ~~~~~~~~ğŸ’</p>
        <p>è®¤æˆæ˜¯ç¼˜åˆ†ï¼Œåˆæ€æ ·å®šä¹‰ç¼˜åˆ†å‘¢ï¼Ÿ</p>
        <p>ç¼˜åˆ†æ˜¯èµ·ç‚¹ã€ï¼ˆæ–°ï¼‰å¿ƒçš„å¼€å§‹ï¼Œ</p>
        <p>è¿‡ç¨‹æ˜¯å¼€å¿ƒï¼Œç»ˆç‚¹æ˜¯å¼€å¿ƒã€‚</p>
        <p style="color:var(--pink-4)">ğŸ’èƒ½å¦ç»™ä¸ªæœºä¼šè®©è‡ªå·±ä»¥åæ›´åŠ ç”¨å¿ƒ ğŸ’</p>
    </div>
</div>

<script>
// ============== é…ç½®åŒºåŸŸ ==============
const SPECIAL_DATE = "2025-04-20";  // ç›¸è¯†æ—¥æœŸ
const CORRECT_NICKNAME = "ä¹–";      // æ­£ç¡®ç§°å‘¼
const CORRECT_LOCATION = "é—¨å£";    // æ­£ç¡®åœ°ç‚¹

let currentStep = 1;
let heartIntervalId = null;

function nextStep(step) {
    if (currentStep === 1 && document.getElementById('dateInput').value !== SPECIAL_DATE) {
        alert("â³ è¿™ä¸ªæ—¥æœŸå¥½åƒä¸å¤ªå¯¹å“¦~");
        return;
    }

    if (currentStep === 2 && document.getElementById('nicknameInput').value !== CORRECT_NICKNAME) {
        alert("âŒ è¿™ä¸ªç§°å‘¼ä¸å¤Ÿäº²å¯†å“¦~");
        return;
    }

    if (currentStep === 3 && document.getElementById('locationSelect').value !== CORRECT_LOCATION) {
        alert("ğŸ“ è¿™é‡Œä¸æ˜¯æˆ‘ä»¬çš„æ•…äº‹èµ·ç‚¹å“¦");
        return;
    }

    // æ›´æ–°è¿›åº¦æ¡
    document.querySelector('.progress').style.width = `${(step - 1) * 25}%`;

    // åˆ‡æ¢æ­¥éª¤
    document.querySelector(`#step${currentStep}`).classList.remove('active');
    document.querySelector(`#step${step}`).classList.add('active');
    currentStep = step;
}

function completeLove() {
    // è®¾ç½®è¿›åº¦æ¡ä¸º100%
    document.querySelector('.progress').style.width = '100%';

    // éšè—æ‰€æœ‰æ­¥éª¤ç•Œé¢
    document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));

    // æ˜¾ç¤ºå‘Šç™½æ–‡å­—
    document.getElementById('loveLetter').style.display = 'block';

    // å¼€å§‹æŒç»­ç”Ÿæˆæ–°çˆ±å¿ƒ
    startHeartAnimation();
}

function startHeartAnimation() {
    const container = document.querySelector('.hearts');

    // æ¸…ç©ºæ—§çˆ±å¿ƒ
    container.innerHTML = '';

    // æ¯éš”ä¸€æ®µæ—¶é—´æ·»åŠ ä¸€æ‰¹æ–°çˆ±å¿ƒ
    heartIntervalId = setInterval(() => {
        for (let i = 0; i < 10; i++) {
            createHeart();
        }
    }, 500); // æ¯500æ¯«ç§’ç”Ÿæˆ10ä¸ªçˆ±å¿ƒ
}

function createHeart() {
    const heart = document.createElement('span');
    heart.innerHTML = 'â¤';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.top = '-50px'; // ä»å±å¹•é¡¶éƒ¨å¼€å§‹ä¸‹è½
    heart.style.fontSize = Math.random() * 20 + 10 + 'px';
    heart.style.animationDuration = Math.random() * 3 + 2 + 's';
    document.querySelector('.hearts').appendChild(heart);

    // 3ç§’åç§»é™¤æ—§çˆ±å¿ƒï¼Œé˜²æ­¢DOMå †ç§¯
    setTimeout(() => {
        heart.remove();
    }, 3000);
}
</script>

</body>
</html>
